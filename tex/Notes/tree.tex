Приемы для работы с деревьями:
\begin{enumerate}
	\item
	Двоичные подъемы

	\item
	Поддеревья как отрезки Эйлерова обхода
	
	\item
	Вертикальные пути в Эйлеровом обходе (на ребрах вниз $+k$, на ребрах вверх $-k$).
	
	\item
	Храним в вершине значение функции на пути от корня до нее, дальше LCA.
	
	\item
	Спуск с DFS, поддерживаем ДО на пути до текущей вершины.
	
	\item
	Heavy-light decomposition
	
	\item
	Centroid decomposition
\end{enumerate}
